<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>首先先了解一下什么是进程和线程 | Roger</title>
    <meta name="generator" content="VuePress 1.9.9">
    <link rel="icon" href="/docs/assets/img/bitbug_favicon.ico">
    <meta name="description" content="">
    
    <link rel="preload" href="/docs/assets/css/0.styles.16d44142.css" as="style"><link rel="preload" href="/docs/assets/js/app.055589eb.js" as="script"><link rel="preload" href="/docs/assets/js/2.a4ce278c.js" as="script"><link rel="preload" href="/docs/assets/js/7.962eaaf6.js" as="script"><link rel="prefetch" href="/docs/assets/js/10.cbcd239a.js"><link rel="prefetch" href="/docs/assets/js/11.9a4deab0.js"><link rel="prefetch" href="/docs/assets/js/12.261b571c.js"><link rel="prefetch" href="/docs/assets/js/13.c2afaf3a.js"><link rel="prefetch" href="/docs/assets/js/14.8cf83f01.js"><link rel="prefetch" href="/docs/assets/js/15.e79263b3.js"><link rel="prefetch" href="/docs/assets/js/16.b653720c.js"><link rel="prefetch" href="/docs/assets/js/17.ce002f15.js"><link rel="prefetch" href="/docs/assets/js/18.3a891816.js"><link rel="prefetch" href="/docs/assets/js/19.a1608cdb.js"><link rel="prefetch" href="/docs/assets/js/20.f6f64be1.js"><link rel="prefetch" href="/docs/assets/js/21.b1da476d.js"><link rel="prefetch" href="/docs/assets/js/22.3a6b08d9.js"><link rel="prefetch" href="/docs/assets/js/23.79dbccdc.js"><link rel="prefetch" href="/docs/assets/js/24.af45a295.js"><link rel="prefetch" href="/docs/assets/js/25.a6b4d454.js"><link rel="prefetch" href="/docs/assets/js/3.da040ca8.js"><link rel="prefetch" href="/docs/assets/js/4.c639701e.js"><link rel="prefetch" href="/docs/assets/js/5.5b10c8b6.js"><link rel="prefetch" href="/docs/assets/js/6.eb4985eb.js"><link rel="prefetch" href="/docs/assets/js/8.a2430b0b.js"><link rel="prefetch" href="/docs/assets/js/9.e51a277c.js">
    <link rel="stylesheet" href="/docs/assets/css/0.styles.16d44142.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/docs/" class="home-link router-link-active"><!----> <span class="site-name">Roger</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/docs/" class="nav-link">
    首页
  </a></div><div class="nav-item"><a href="https://juejin.cn/user/1913628905977070" target="_blank" rel="noopener noreferrer" class="nav-link external">
    掘金
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="/docs/Native/Promise/" class="nav-link">
    前端杂谈
  </a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="技术分类" class="dropdown-title"><span class="title">技术分类</span> <span class="arrow down"></span></button> <button type="button" aria-label="技术分类" class="mobile-dropdown-title"><span class="title">技术分类</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/interview/html/" class="nav-link">
    html
  </a></li><li class="dropdown-item"><!----> <a href="/docs/interview/css/" class="nav-link">
    css
  </a></li><li class="dropdown-item"><!----> <a href="/docs/interview/js/" class="nav-link">
    JS
  </a></li><li class="dropdown-item"><!----> <a href="/docs/interview/node/" class="nav-link">
    Node
  </a></li><li class="dropdown-item"><!----> <a href="/docs/Vue/" class="nav-link">
    Vue
  </a></li><li class="dropdown-item"><!----> <a href="/docs/Chrome/" class="nav-link router-link-active">
    浏览器
  </a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/docs/" class="nav-link">
    首页
  </a></div><div class="nav-item"><a href="https://juejin.cn/user/1913628905977070" target="_blank" rel="noopener noreferrer" class="nav-link external">
    掘金
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="/docs/Native/Promise/" class="nav-link">
    前端杂谈
  </a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="技术分类" class="dropdown-title"><span class="title">技术分类</span> <span class="arrow down"></span></button> <button type="button" aria-label="技术分类" class="mobile-dropdown-title"><span class="title">技术分类</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/interview/html/" class="nav-link">
    html
  </a></li><li class="dropdown-item"><!----> <a href="/docs/interview/css/" class="nav-link">
    css
  </a></li><li class="dropdown-item"><!----> <a href="/docs/interview/js/" class="nav-link">
    JS
  </a></li><li class="dropdown-item"><!----> <a href="/docs/interview/node/" class="nav-link">
    Node
  </a></li><li class="dropdown-item"><!----> <a href="/docs/Vue/" class="nav-link">
    Vue
  </a></li><li class="dropdown-item"><!----> <a href="/docs/Chrome/" class="nav-link router-link-active">
    浏览器
  </a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Chrome浏览器原理</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/Chrome/EventLoop/" aria-current="page" class="active sidebar-link">浏览器的事件循环</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/Chrome/EventLoop/#进程" class="sidebar-link">进程</a></li><li class="sidebar-sub-header"><a href="/docs/Chrome/EventLoop/#线程" class="sidebar-link">线程</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/Chrome/EventLoop/#举个例子" class="sidebar-link">举个例子</a></li></ul></li><li class="sidebar-sub-header"><a href="/docs/Chrome/EventLoop/#_1-浏览器进程" class="sidebar-link">1. 浏览器进程</a></li><li class="sidebar-sub-header"><a href="/docs/Chrome/EventLoop/#_2-网络进程" class="sidebar-link">2. ⽹络进程</a></li><li class="sidebar-sub-header"><a href="/docs/Chrome/EventLoop/#_3-渲染进程" class="sidebar-link">3. 渲染进程</a></li><li class="sidebar-sub-header"><a href="/docs/Chrome/EventLoop/#渲染主线程就是浏览器中最重要且最繁忙的线程" class="sidebar-link">渲染主线程就是浏览器中最重要且最繁忙的线程</a></li><li class="sidebar-sub-header"><a href="/docs/Chrome/EventLoop/#负责处理这么多任务-还出现了一个难题如何调度任务" class="sidebar-link">负责处理这么多任务，还出现了一个难题如何调度任务？</a></li><li class="sidebar-sub-header"><a href="/docs/Chrome/EventLoop/#我们平时在写代码中也会经常接触到一些无法立即执行的任务" class="sidebar-link">我们平时在写代码中也会经常接触到一些无法立即执行的任务</a></li><li class="sidebar-sub-header"><a href="/docs/Chrome/EventLoop/#微队列" class="sidebar-link">微队列</a></li><li class="sidebar-sub-header"><a href="/docs/Chrome/EventLoop/#交互队列" class="sidebar-link">交互队列</a></li><li class="sidebar-sub-header"><a href="/docs/Chrome/EventLoop/#延迟队列" class="sidebar-link">延迟队列</a></li></ul></li><li><a href="/docs/Chrome/Render/" class="sidebar-link">Chrome浏览器渲染流程</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="首先先了解一下什么是进程和线程"><a href="#首先先了解一下什么是进程和线程" class="header-anchor">#</a> <strong>首先先了解一下什么是进程和线程</strong></h1> <p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/de4cfc54107441769d0bd75d03516c2b~tplv-k3u1fbpfcp-watermark.image?" alt="进程图.png"></p> <h2 id="进程"><a href="#进程" class="header-anchor">#</a> 进程</h2> <p>进程简单来说就是，QQ，微信，王者荣耀三个软件，他们都会有独立的进程，有了进程之后就可以开始干活了，并且进程之间是互不干扰的，不会因为QQ崩溃了而导致微信无法使用，如果想要通信，需要双方同意才可以传递数据</p> <h2 id="线程"><a href="#线程" class="header-anchor">#</a> 线程</h2> <p>线程就好比，你的老板开了一家公司，把你招聘进来干活，那么老板就是进程，而你就是线程。每个进程都至少要有一个线程，不然的话没人干活呀，所以每次开辟一个进程都会自动生成一个对应的线程。如果程序比较多，比较复杂，进程也可以开辟多个线程同时执行代码</p> <h3 id="举个例子"><a href="#举个例子" class="header-anchor">#</a> 举个例子</h3> <p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0bd74dc449724d4caddacc7d1caeb85a~tplv-k3u1fbpfcp-watermark.image?" alt="线程图.png"></p> <ol><li>你进入王者荣耀就会开辟一个内存空间，生成一个进程</li> <li>进程会生成多个线程完成不同的工作</li> <li>主线程负责一些比较复杂的逻辑，控制游戏逻辑和渲染</li> <li>游戏线程比如移动方向，释放技能的一些监听</li> <li>网络线程，你放技能，移动，双方都是同步看到的，这些就是网络线程去完成的</li></ol> <h1 id="那么浏览器里面有什么进程和线程呢"><a href="#那么浏览器里面有什么进程和线程呢" class="header-anchor">#</a> 那么浏览器里面有什么进程和线程呢？</h1> <p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/90d156450f274d3a985973289d59ecf7~tplv-k3u1fbpfcp-watermark.image?" alt="浏览器进程.png"></p> <h2 id="_1-浏览器进程"><a href="#_1-浏览器进程" class="header-anchor">#</a> 1. 浏览器进程</h2> <p>主要负责界⾯显示、⽤户交互、⼦进程管理等。浏览器进程内部会启动多个线程处理不同的任务。</p> <h2 id="_2-网络进程"><a href="#_2-网络进程" class="header-anchor">#</a> 2. ⽹络进程</h2> <p>负责加载⽹络资源。⽹络进程内部会启动多个线程来处理不同的⽹络任务。</p> <h2 id="_3-渲染进程"><a href="#_3-渲染进程" class="header-anchor">#</a> 3. 渲染进程</h2> <p>渲染进程启动后，会开启⼀个渲染主线程，主线程负责执⾏ HTML、CSS、JS 代码。默认情况下，浏览器会为每个标签⻚开启⼀个新的渲染进程，以保证不同的标签⻚之间不相互影响。</p> <h1 id="渲染主线程是怎么工作的呢"><a href="#渲染主线程是怎么工作的呢" class="header-anchor">#</a> 渲染主线程是怎么工作的呢？</h1> <h2 id="渲染主线程就是浏览器中最重要且最繁忙的线程"><a href="#渲染主线程就是浏览器中最重要且最繁忙的线程" class="header-anchor">#</a> 渲染主线程就是浏览器中最重要且最繁忙的线程</h2> <ul><li>渲染html</li> <li>解析css</li> <li>解析js</li> <li>计算样式</li> <li>布局</li> <li>执行事件处理函数</li> <li>. . . . . .</li></ul> <p><strong>浏览器渲染流程详解</strong>： <a href="https://juejin.cn/post/7225516176171728957" target="_blank" rel="noopener noreferrer">https://juejin.cn/post/7225516176171728957<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="负责处理这么多任务-还出现了一个难题如何调度任务"><a href="#负责处理这么多任务-还出现了一个难题如何调度任务" class="header-anchor">#</a> 负责处理这么多任务，还出现了一个难题如何调度任务？</h2> <ol><li>当浏览器在执行js代码的时候，用户点击了按钮，那么是继续执行js代码还是执行点击后的逻辑？</li> <li>当计时器时间到了，恰巧用户又点了一下按钮，那么先执行定时器还是点击后的逻辑呢？</li></ol> <h1 id="event-loop-事件循环"><a href="#event-loop-事件循环" class="header-anchor">#</a> event loop （事件循环）</h1> <p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/5e04ece4dcbf4755be3278e105b3ed43~tplv-k3u1fbpfcp-watermark.image?" alt="事件循环.png"></p> <ol><li>渲染主线程会开启一个无限循环，每次取出消息队列中第一个任务执行，直到消息队列为空</li> <li>当有其他任务（定时器的回调，点击事件的函数）则追加到消息队列的末尾，依次执行</li></ol> <h1 id="什么是异步呢"><a href="#什么是异步呢" class="header-anchor">#</a> 什么是异步呢？</h1> <h2 id="我们平时在写代码中也会经常接触到一些无法立即执行的任务"><a href="#我们平时在写代码中也会经常接触到一些无法立即执行的任务" class="header-anchor">#</a> 我们平时在写代码中也会经常接触到一些无法立即执行的任务</h2> <ol><li>定时器 （<strong>setTimeout, setInterval</strong>）</li> <li>网络请求ajax （<strong>XHR, Fetch</strong>）</li> <li>绑定点击事件 （<strong>onclick, addEventListener</strong>）</li></ol> <h4 id="因为js是一门单线程语言-如果渲染主线程等这些代码执行完再执行下一个任务-渲染主线程长期阻塞-将会导致整个页面卡死-用户体验极差"><a href="#因为js是一门单线程语言-如果渲染主线程等这些代码执行完再执行下一个任务-渲染主线程长期阻塞-将会导致整个页面卡死-用户体验极差" class="header-anchor">#</a> 因为js是一门单线程语言，如果渲染主线程等这些代码执行完再执行下一个任务，渲染主线程长期阻塞，将会导致整个页面卡死，用户体验极差</h4> <h1 id="无法立即执行代码浏览器如何处理的"><a href="#无法立即执行代码浏览器如何处理的" class="header-anchor">#</a> 无法立即执行代码浏览器如何处理的？</h1> <p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/21fd0e7cd17648efa5c65ea64766c6c4~tplv-k3u1fbpfcp-watermark.image?" alt="异步执行.png"></p> <ol><li>浏览器使用了异步来解决这个问题</li> <li>当执行js时，渲染主线程遇到了一个定时器，那么会交给一个计时线程，当时间到了，会生成一个任务，追加到消息队列的末尾，等待渲染主线程的调用，如果有多个异步代码，也是使用相同的步骤去执行</li> <li>使⽤异步的⽅式，渲染主线程永不阻塞</li></ol> <h1 id="那么异步任务有优先级吗"><a href="#那么异步任务有优先级吗" class="header-anchor">#</a> 那么异步任务有优先级吗？</h1> <ol><li>任务是没有优先级的，在消息队列中先进先出</li> <li>但消息队列中是有优先级的</li> <li>在chrome中至少包含以下队列</li></ol> <ul><li>延时队列：⽤于存放计时器到达后的回调任务，优先级「中」</li> <li>交互队列：⽤于存放⽤户操作后产⽣的事件处理任务，优先级「⾼」</li> <li>微队列：⽤户存放需要最快执⾏的任务，优先级「最⾼」</li></ul> <h2 id="微队列"><a href="#微队列" class="header-anchor">#</a> 微队列</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 立即把回调函数添加到微队列中</span>
Promise<span class="token punctuation">.</span>resolve<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>回调函数<span class="token punctuation">)</span>
</code></pre></div><h2 id="交互队列"><a href="#交互队列" class="header-anchor">#</a> 交互队列</h2> <p>跟用户交互的事件就会进入交互队列</p> <ul><li>鼠标点击事件</li> <li>键盘事件</li> <li>窗口大小改变</li> <li>. . . . . .</li></ul> <h2 id="延迟队列"><a href="#延迟队列" class="header-anchor">#</a> 延迟队列</h2> <ul><li>setTimeout</li> <li>setInterval</li></ul></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/docs/Chrome/Render/">
          Chrome浏览器渲染流程
        </a>
        →
      </span></p></div> </main></div><div class="global-ui"><canvas id="vuepress-canvas-cursor"></canvas></div></div>
    <script src="/docs/assets/js/app.055589eb.js" defer></script><script src="/docs/assets/js/2.a4ce278c.js" defer></script><script src="/docs/assets/js/7.962eaaf6.js" defer></script>
  </body>
</html>
